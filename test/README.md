# Coqnitive Tests

## Installing depencies
In case you have not done so, run `npm install` or `npm i` in the [root](./) folder of the repository. 

## Running the tests
Run `npm run test` in the [root](./) of repo. Note that the script will work on Macos/Linux and WSL supporting windowing (Typically, not the case for windows 10, but should work for 11). 

## Where to put tests and general structure?
We have the following structure:
```bash
|
|- .vscode-test/ # Generated by test script, contains file related to component tests
|- .ui-test/     # Generated by test script, contains file related to ui tests
|- ...
|- test/
| |- suite/ # The test files that are run during component tests
| | |- extension.test.ts # An example of a component test
| | |- ...
| | |- index.ts          # Sets up componenet tests
| |- ui-tests/ # The test files that are run during ui tests
| | |- command-test.ts   # An example of a ui test
| | |- ...
| |- runTest.ts # The test script file that runs all tests
| |- ...
|- test_out/    # The compiled test files
|- ...
```
In principle, there are two test environments. One, the component tests, allow for the individual components to be tested in isolation and can be used for unit tests (See: https://code.visualstudio.com/api/working-with-extensions/testing-extension). The other, the ui tests, allow for extensive testing of mimicking a user using vscode (Checkout: https://github.com/redhat-developer/vscode-extension-tester/wiki). Right now, the coq-lsp server binary is not bundled in our extension when doing .ui-tests, so there are significant limitations.